(window.webpackJsonp=window.webpackJsonp||[]).push([[166,167],{1337:function(e,t,n){"use strict";n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return w})),n.d(t,"m",(function(){return O})),n.d(t,"b",(function(){return j})),n.d(t,"j",(function(){return k})),n.d(t,"e",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"a",(function(){return P})),n.d(t,"i",(function(){return D})),n.d(t,"k",(function(){return x})),n.d(t,"c",(function(){return T})),n.d(t,"f",(function(){return I})),n.d(t,"l",(function(){return N})),n.d(t,"n",(function(){return _})),n.d(t,"o",(function(){return J}));var a=n(7),r=n(1),i=n(8),o=n.n(i),c=n(18),s=n(1793),l=n(16),u=n(36),m=n(946),d=n(1782),b=n(1794),p=n(1486),g=n(89);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l.b.query(e,Object.assign(n,{websiteId:t}))},E=function(){var e=Object(c.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.b.get("/website/get-site-doc-and-properties");case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,a=n.doc,r=n.properties,!a){e.next=10;break}return e.abrupt("return",Promise.reject(new Error("User already has a website.")));case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(o.a.mark((function e(t,n,i){var c,l,g,f,h,v,y,w,O,j,k,S,C,P,D,x,T,I,N,A,_,F,J,L,U,R,W,q,B,M,z=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=z.length>3&&void 0!==z[3]&&z[3],l=Object(s.a)({siteTitle:n}),g=l.site,f=l.page,e.next=4,E();case 4:return h=e.sent,v=Object(p.a)(n),y={audienceId:t,siteName:n,domain:i||v+".mailchimpsites.com",hasMultipleAudiences:c},e.next=9,Object(b.a)(y);case 9:return w=e.sent,O=w.pageDocs,j=w.id,k=w.domain,S=parseInt(j,10),C=parseInt(Object.keys(O)[0],10),P=Object(u.n)(Object(u.i)([g])),D=Object(u.n)(Object(u.i)([f])),x={isPaidUser:h.isPaidUser,hasStore:h.hasStore},T=Object(u.v)(P,x),I=Object(u.t)(T,Object(r.a)({},C,D)),N=Object(m.a)(I,"web",C),A=Object(u.B)(I,C),_=Object(a.a)(A,2),F=_[0],J=_[1],L=Object(u.C)(N),U=Object(a.a)(L,2),R=U[0],W=U[1],q={id:S,doc:F,html:R},B={id:C,doc:J,html:W},M={id:C,domain:k,siteId:S},e.next=26,Object(d.q)(q,B);case 26:return e.abrupt("return",M);case 27:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),w=function(e){var t=e.siteId;return l.b.post("/website/settings/publish-site/?id=".concat(t)).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.error)}))}))},O=function(e){var t=e.siteId;return l.b.post("/website/settings/unpublish-site/?id=".concat(t)).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.error)}))}))},j=function(e,t){var n=v("/website/add-page",e),a=JSON.stringify(t);return l.b.post(n,a).then((function(e){return e.ok?e.json():e.json().then((function(e){return e.error?Promise.reject(e.error):Promise.reject("Something went wrong.")}))}))},k=function(e,t){var n=v("/website/save-page-details",e),a=JSON.stringify(t);return l.b.post(n,a).then((function(e){return e.ok?e.json():e.json().then((function(e){var t=e.error;return Promise.reject(t)}))}))},S=function(e,t){var n=v("/website/duplicate-page",e),a=JSON.stringify(t);return l.b.post(n,a).then((function(e){return e.ok?e.json():e.json().then((function(e){var t=e.error;return Promise.reject(t)}))}))},C=function(e,t){var n=v("/website/delete-page",e),a=JSON.stringify({pageId:t});return l.b.post(n,a).then((function(e){return e.ok?e.json():Promise.reject(new Error("Could not delete selected page for this website. Error ".concat(e.status," : ").concat(e.statusText," ")))}))},P=function(e,t){var n=v("/website/create-or-update-href-link",e),a=JSON.stringify(t);return l.b.post(n,a).then((function(e){return e.ok?e.json():e.json().then((function(e){return e.error?Promise.reject(e.error):Promise.reject("Something went wrong.")}))}))},D=function(e,t){var n=v("/website/create-or-update-href-link",e),a=JSON.stringify(t);return l.b.post(n,a).then((function(e){return e.ok?e.json():e.json().then((function(e){var t=e.error;return Promise.reject(t)}))}))},x=function(e,t){var n=v("/website/save-links",e),a=JSON.stringify(t);return l.b.post(n,a).then((function(e){return e.ok?e.json():e.json().then((function(e){var t=e.error;return Promise.reject(t)}))}))},T=function(e,t){var n=v("/website/delete-href-link",e),a=JSON.stringify({linkId:t});return l.b.post(n,a).then((function(e){return e.ok?e.json():Promise.reject(new Error("Could not delete selected link for this website. Error ".concat(e.status," : ").concat(e.statusText," ")))}))},I=function(e){var t=e.siteId,n=e.params;return l.b.get(l.b.query("/websites/dashboard/get-feedback-messaging",h({websiteId:t},n))).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.error)}))}))},N=function(e,t,n,a,i,o){var c=t.contentId,s=t.url,u=n.buttonBg,m=n.buttonFont,d=n.heading,b=n.paragraph,p=n.link,g=a.heading,f=a.paragraph,v=i.reduce((function(e,t){return h(h({},e),{},Object(r.a)({},t,1))}),{});return l.b.post("/website/save?websiteId=".concat(o),JSON.stringify({page_id:e,logo_content_id:c,logo_url:s,button_background_color:u,button_font_color:m,heading_font_family:g,paragraph_font_family:f,heading_font_color:d,paragraph_font_color:b,link_font_color:p,hidden_sections:v})).then((function(e){return e.ok?e.json():Promise.reject(new Error("Could not save Website Styles. Error ".concat(e.status," : ").concat(e.statusText," ")))}))},A=Object(g.b)((function(e){var t=e.siteId;return l.b.get("/website/settings/get-terms?id=".concat(t)).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.error)}))}))}));function _(e){return Object(g.e)(A,e)}var F=Object(g.b)((function(e){var t=e.id,n=e.startTime,a=e.endTime,r=e.interval,i=l.b.query("/website/reports/fetch-stats",{id:t,startTime:n,endTime:a,interval:r});return l.b.get(i).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.error)}))}))})),J=function(e){return Object(g.e)(F,e)}},1486:function(e,t,n){"use strict";t.a=function(e){return e?e.replace(/[^a-zA-Z0-9 -]/g,"").trim().replace(/\s+/g,"-").replace(/-{2,}/g,"-").replace(/^-/g,"").replace(/-+$/g,"").toLowerCase():""}},1780:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=(n(3),n(1781)),o=n.n(i);t.a=function(e){var t=e.children;return r.a.createElement("main",{className:o.a.container},t)}},1781:function(e,t,n){e.exports={container:"container-3iPaP"}},1783:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=(n(3),n(31)),o=n(4);t.a=function(e){var t=e.confirmationMsg,n=void 0===t?"Success! Your plan has been upgraded.":t,c=e.orderId,s=e.onClose;return Object(a.useEffect)((function(){var e=setTimeout((function(){s()}),5e3);return function(){clearTimeout(e)}}),[]),r.a.createElement(o.Tb,null,r.a.createElement(o.Ob,{action:r.a.createElement(o.Kb,{href:"".concat("/account/billing-receipt?id=").concat(c),target:"_blank",rel:"noopener noreferrer"},"View Receipt"),icon:r.a.createElement(i.ec,null),onClose:s},r.a.createElement("strong",null,n)))}},1793:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1),r=n(2),i=n(33),o=n(1338),c=n(6);function s(e){var t,n,s,l,u,m,d,b={site:{type:r.ROOT,properties:{globals:{maxWidth:1360,buttonBorderSize:0,typeScale:1.333},websiteRenderingVersion:2,palette:"cool",theme:"classic",navigationLinks:[{text:"Home",href:"/"}]},children:[Object(o.g)((t={},Object(a.a)(t,i.v,"leftAligned"),Object(a.a)(t,i.c,"color"),Object(a.a)(t,i.E,!e||!e.brandLogo),Object(a.a)(t,"brandLogo",e?e.brandLogo:null),Object(a.a)(t,"siteTitle",e?e.siteTitle:null),t)),{type:r.PAGE_CONTENT,properties:{}},Object(o.f)((n={layout:"navOnRight",isLogoDisabled:!1,isSocialDisabled:!1,isPaidUser:!1},Object(a.a)(n,i.E,!e||!e.brandLogo),Object(a.a)(n,"brandLogo",e?e.brandLogo:null),Object(a.a)(n,"siteTitle",e?e.siteTitle:null),n))]},page:{type:r.ROOT,children:[Object(o.h)((s={},Object(a.a)(s,i.v,"backgroundImage"),Object(a.a)(s,i.c,"image"),s)),Object(o.m)(Object(a.a)({},i.v,"oneColumn")),Object(o.n)(Object(a.a)({},i.v,"imageLeft"))]}};return Object(c.d)(c.a["9bd95805cb4034582eb1a0e7efa4f417"])&&b.page.children.push(Object(o.e)(Object(a.a)({},i.v,"countdownVertical"))),b.page.children.push(Object(o.a)((l={},Object(a.a)(l,i.v,"horizontal"),Object(a.a)(l,i.c,"color"),l))),b.page.children.push(Object(o.k)((u={},Object(a.a)(u,i.v,"stacked"),Object(a.a)(u,i.c,"color"),u))),b.page.children.push(Object(o.c)((m={},Object(a.a)(m,i.v,"oneColumn"),Object(a.a)(m,i.c,"color"),m))),b.site.children.splice(b.site.children.length-1,0,Object(o.d)()),b.page.children.push(Object(o.o)((d={},Object(a.a)(d,i.v,"stacked"),Object(a.a)(d,i.c,"color"),d))),b}},1794:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(16),r=function(e){var t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.b.query(e,Object.assign(n,{id:t}))}("/websites/start-your-site/setup/"),n=JSON.stringify(e);return a.b.post(t,n).then((function(e){return e.ok?e.json():Promise.reject(new Error("Could not setup site. Error ".concat(e.status," : ").concat(e.statusText," ")))}))}},2339:function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=r.a.arrayOf(r.a.shape({address1:r.a.string,address2:r.a.string,address_id:r.a.string,city:r.a.string,country:r.a.string,create_time:r.a.string,first_name:r.a.string,last_name:r.a.string,postal_code:r.a.string,province_code:r.a.string,store_id:r.a.string,update_time:r.a.string}));r.a.shape({accountId:r.a.string,account_id:r.a.string,address_suggestions:r.a.array,addresses:i,archive_time:r.a.string,audienceId:r.a.string,audience_id:r.a.string,create_time:r.a.string,currency:r.a.string,currencyCode:r.a.string,currency_code:r.a.string,domain:r.a.string,email:r.a.string,isCollectingTax:r.a.bool,is_archived:r.a.bool,locale:r.a.string,name:r.a.string,phone:r.a.string,storeCountry:r.a.string,storeId:r.a.string,storeName:r.a.string,storeStatus:r.a.string,store_id:r.a.string,stripeAccountId:r.a.string,stripe_account_id:r.a.string,stripe_live_mode:r.a.bool,timezone:r.a.string,update_time:r.a.string})},2361:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(8),r=n.n(a),i=n(18),o=n(48),c=n(7),s=n(0),l=n(96),u=n(16),m="/account/authz";function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=Object(s.useState)(null),d=Object(c.a)(a,2),b=d[0],p=d[1],g=Object(s.useState)(!0),f=Object(c.a)(g,2),h=f[0],v=f[1],E=Object(l.b)(),y=E.policy,w=JSON.stringify(n),O="object"===Object(o.a)(y[e])?JSON.stringify(y[e]):y[e];return Object(s.useEffect)((function(){var n=function(){p(!1),v(!1)},a=function(){var a=Object(i.a)(r.a.mark((function a(i){var o,c,s,l;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return v(!0),o=u.b.query(m,{feature:e,action:t,context:w,serializeResults:!0}),a.next=4,u.b.get(o,{signal:i.signal});case 4:return c=a.sent,a.prev=5,a.next=8,c.json();case 8:if("success"===(null==(s=a.sent)?void 0:s.status)){a.next=12;break}return n(),a.abrupt("return");case 12:l=s.permitted,p(l),v(!1),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(5),n();case 20:case"end":return a.stop()}}),a,null,[[5,17]])})));return function(e){return a.apply(this,arguments)}}();if(!O)return p(!1),void v(!1);if("*"===O)return p(!0),void v(!1);var o=new AbortController;return a(o),function(){o&&o.abort()}}),[t,w,e,O]),{isAuthorized:b,isCheckingAuthorization:h}}},2364:function(e,t,n){"use strict";var a=n(5),r=n(0),i=n.n(r),o=(n(3),n(4)),c=n(24),s=n(2365),l=n.n(s),u=n(16);t.a=function(e){i.a.useEffect((function(){var t,n;t=e.originatingUserFlow,n=u.b.query("/checkout/commerce/log-intent",{originatingUserFlow:t}),u.b.get(n).then((function(e){return e.json()}))}),[e.originatingUserFlow]);var t,n="domains overview"===(t=e.originatingUserFlow)?"Back to Domains":"website settings"===t?"Back to Settings":"",r={"data-track-category":"bottom_sheet_upgrade","data-track-action":"close","data-track-label":n,"data-track-dimension-53":n,"data-track-dimension-56":n?"close":"navigate","data-track-dimension-95":"bottom_sheet","data-track-dimension-96":e.originatingUserFlow||"commerce"};return i.a.createElement(o.vb,{className:l.a.container,gap:11},i.a.createElement(o.tb,{gap:6},i.a.createElement(o.B,{level:1},"New Websites & Commerce plans are coming soon"),i.a.createElement(o.Jb,{appearance:"large"},"We’re still working on making Websites & Commerce Core and Plus plans available to everyone. (We’ll send you an email when they’re ready!)"),i.a.createElement(o.Jb,{appearance:"large"},"In the meantime, you have access to new features on our Websites & Commerce Free plan that make it easy to create a website and start selling your goods and services online."),i.a.createElement(o.l,null,n?i.a.createElement(o.g,Object(a.a)({},r,{type:"primary",onClick:function(){return e.closeBottomSheet()}}),n):i.a.createElement(c.b,Object(a.a)({},r,{"data-track-dimension-54":"/websites/start-your-site",as:o.g,to:"/websites/start-your-site",type:"primary"}),"See What's New"))),i.a.createElement("div",{className:l.a.image}))}},2365:function(e,t,n){e.exports={container:"container-1SNDO",image:"image-1Litw"}},2369:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=(n(3),n(4)),o=n(2511),c=n.n(o);t.a=function(e){var t=e.title,n=e.children;return r.a.createElement(i.tb,null,r.a.createElement(i.Jb,{appearance:"large"},t),r.a.createElement(i.tb,{gap:0,className:c.a.toggleable},n))}},2371:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(1),r=n(7),i=n(0),o=n.n(i),c=(n(3),n(4)),s=n(20),l=n(727),u=n(1783),m=n(1780),d=n(2364),b=n(6);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t,n,a,p,f,h,v=e.PlanDetails,E=void 0===v?null:v,y=e.showBottomSheet,w=void 0!==y&&y,O=e.onBottomSheetClose,j=void 0===O?function(){}:O,k=e.onPaymentSuccess,S=void 0===k?null:k,C=e.onToastClose,P=void 0===C?null:C,D=e.title,x=e.isLoading,T=e.fetchedData,I=e.normalizeOrderData,N=e.gaTrackingData,A=void 0===N?{}:N,_=Object(c.cc)(),F=Object(c.ec)(),J=Object(c.fc)().currentStep,L=Object(i.useState)(!1),U=Object(r.a)(L,2),R=U[0],W=U[1],q=Object(i.useState)(!1),B=Object(r.a)(q,2),M=B[0],z=B[1],G=Object(i.useState)(null),V=Object(r.a)(G,2),Y=V[0],Q=V[1];Object(i.useEffect)((function(){!0===w&&Object(s.a)("bottom sheet upgrade","start",{dimension94:A.dimension94,dimension96:A.dimension96,dimension97:A.dimension97}),z(w)}),[A,w]),Object(i.useEffect)((function(){!0===w&&!1===x&&A.dimension94&&A.dimension96&&A.dimension97&&Object(s.a)("bottom sheet upgrade","load",{dimension94:A.dimension94,dimension96:A.dimension96,dimension97:A.dimension97})}),[A.dimension94,A.dimension96,A.dimension97,w,x]);var H=Object(i.useState)(!1),K=Object(r.a)(H,2),Z=K[0],X=K[1];if(Object(i.useEffect)((function(){x||_.setInventory((function(e){return g(g(g({},e),T),{},{order:I(T)})}))}),[x,T,_,I]),Object(i.useEffect)((function(){W(!1)}),[x,T]),R&!Z)return null;var $=function(e){Q(e.orderId),z(!1),X(!0),_.finish(),S&&S(e)},ee=o.a.createElement(c.z,{centered:!0},o.a.createElement(c.N,{type:"large"})),te=(Object(b.d)(b.a["5de71624cc9dbc6606e823c3171c5d74"])?(null==T||null===(t=T.user)||void 0===t?void 0:t.isLegacy)&&!(null!=T&&null!==(n=T.user)&&void 0!==n&&n.isPaygo)&&(null==T||null===(a=T.addOns)||void 0===a?void 0:a.some((function(e){return"commerce"===e.planGroup}))):((null==T||null===(p=T.user)||void 0===p?void 0:p.isLegacy)||(null==T||null===(f=T.user)||void 0===f?void 0:f.isPaygo))&&(null==T||null===(h=T.addOns)||void 0===h?void 0:h.some((function(e){return"commerce"===e.planGroup}))))?o.a.createElement(d.a,{originatingUserFlow:A.dimension96,closeBottomSheet:j}):o.a.createElement(c.Yb,null,E&&o.a.createElement(c.Xb,{displayName:"Plan Details",name:"plandetails",component:E}),o.a.createElement(c.Xb,{displayName:"Payment",name:"payment",component:function(){return M?o.a.createElement(c.Z,{gutterBottom:!1,gutterTop:!1},o.a.createElement(m.a,null,o.a.createElement(l.a,{useInternalCurrencyState:!0,onCompletePayment:$,countries:F.countries,currencies:F.currencies,order:g({},F.order),providerConfigurations:F.providerConfigurations,sessionId:F.sessionId,states:F.states,user:F.user}))):null}}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(c.f,{title:D,breadcrumbs:E?o.a.createElement(c.Vb,{interactive:!0}):null,isOpen:M,onRequestClose:function(){Object(s.a)("bottom sheet upgrade","close","plandetails"===J?"plan suggestion screen":"checkout screen",A),_.finish(),j()}},x?ee:te),Z&&o.a.createElement(u.a,{orderId:Y,onClose:function(){W(!0),X(!1),P&&P()}}))}var h=function(e){var t=g({dimension53:"Plan Details",dimension54:"Does not change the URL (n/a)",dimension55:"Navigation breadcrumb at top left of bottom sheet",dimension56:"Navigates to Plan Details step"},e.gaTrackingData);return o.a.createElement(c.Tb,null,o.a.createElement(c.Ub,{initialInventory:g(g({},e.fetchedData),{},{order:{}}),onStepChange:function(e,n){"plandetails"===n&&Object(s.a)("bottom sheet upgrade","cta","breadcrumb",t)}},o.a.createElement(f,e)))}},2373:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return m})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return b}));var a=n(16),r=n(89),i=function(e){var t=e.siteId;return a.b.get("/website/settings/get-tracking-settings-lazy?id=".concat(t)).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.error)}))}))},o=Object(r.b)(i),c=function(e){var t=e.siteId;return Object(r.e)(o,{siteId:t})},s=function(e){var t=e.siteId,n=e.data,r=JSON.stringify(n);return a.b.post("/website/settings/save-tracking-settings?id=".concat(t),r).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.error)}))}))},l=function(e){var t=e.siteId,n=e.details,r=JSON.stringify(n);return a.b.post("/website/settings/save-site-details?id=".concat(t),r).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.error)}))}))},u=Object(r.b)((function(e){var t=e.siteId;return a.b.get("/website/settings/get-eligible-domains-lazy?id=".concat(t)).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.error)}))}))})),m=function(e){var t=e.siteId;return Object(r.e)(u,{siteId:t})},d=function(e){var t=e.siteId;return a.b.get("/website/settings/get-pop-up-settings-lazy?id=".concat(t)).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.error)}))}))},b=function(e){var t=e.connectedSiteId;return a.b.post(a.b.query("/account/connected-sites/api/toggle-popup-form",{connected_site_id:t}),JSON.stringify({enabled:!1})).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.error)}))}))}},2383:function(e,t,n){e.exports={withSidebar:"withSidebar-1RtV8",wrapper:"wrapper-6-zcW",hasPriceDisclaimer:"hasPriceDisclaimer-t4kS2",rightColumnWrapper:"rightColumnWrapper-ODKvU",growingFlex:"growingFlex-1gZgY",callout:"callout-1WP4p",rightColumn:"rightColumn-3Mrp4"}},2385:function(e,t,n){e.exports={bulletsContainer:"bulletsContainer-2QaKb",inset:"inset-1tKth"}},2394:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(0),r=n.n(a),i=(n(3),n(9)),o=n.n(i),c=n(4),s=n(1),l=n(107),u=n(20),m=n(2383),d=n.n(m);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){var t=e.buttonText,n=void 0===t?"Upgrade":t,a=e.content,i=e.currency,m=e.currencyFormat,p=e.onClick,g=void 0===p?function(){}:p,f=e.price,h=e.priceHeader,v=void 0===h?"Est. monthly cost*":h,E=e.priceDisclaimer,y=e.subtitle,w=e.title,O=e.gaTrackingDimensions,j=void 0===O?{}:O;return r.a.createElement(c.Wb,null,r.a.createElement("div",{className:o()(d.a.withSidebar,d.a.callout,E?d.a.hasPriceDisclaimer:"")},r.a.createElement("div",{className:d.a.wrapper},r.a.createElement(c.tb,{gap:4},r.a.createElement(c.tb,{gap:1},y&&r.a.createElement(c.Jb,null,y),w&&r.a.createElement(c.B,{level:3},w)),a),r.a.createElement("div",{className:d.a.rightColumnWrapper},r.a.createElement(c.tb,{gap:4,className:d.a.rightColumn},r.a.createElement(c.tb,{gap:1},r.a.createElement(c.Jb,{appearance:"small"},v),r.a.createElement(c.Jb,{appearance:"heading-2"},r.a.createElement(l.a,{amount:f||0,currency:i,currencyFormat:m})),E&&r.a.createElement(c.Jb,{appearance:"small-secondary"},E)),r.a.createElement("div",null,r.a.createElement(c.ub,{onClick:function(){Object(u.a)("bottom sheet upgrade","confirm plan upgrade",null,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},j)),g()},type:"primary"},n))),r.a.createElement("div",{className:d.a.growingFlex})))))}var g=n(2385),f=n.n(g);var h=function(e){var t=e.calloutContent,n=e.calloutSubtitle,a=e.calloutTitle,i=e.currency,s=e.currencyFormat,l=e.descriptionList,u=void 0===l?[]:l,m=e.footer,d=e.gaTrackingDimensions,b=void 0===d?{}:d,g=e.onClick,h=void 0===g?function(){}:g,v=e.price,E=e.priceHeader,y=e.priceDisclaimer,w=e.subtitle,O=e.title;return r.a.createElement(c.Tb,null,r.a.createElement(c.Z,{size:"narrow",gutterBottom:!1,gutterTop:!1},r.a.createElement(c.tb,{gap:7},r.a.createElement(c.B,{level:2,appearance:"heading-1",className:f.a.inset},O),r.a.createElement(c.B,{level:3,appearance:"heading-2",className:f.a.inset},w),u.length>0&&r.a.createElement("ul",{className:o()(f.a.bulletsContainer,f.a.inset)},Object.keys(u).map((function(e){return r.a.createElement("li",{key:e},r.a.createElement(c.Jb,{as:"span"},u[e]))}))),r.a.createElement(p,{title:a,subtitle:n,content:t,currency:i,currencyFormat:s,price:v,priceHeader:E,priceDisclaimer:y,onClick:h,gaTrackingDimensions:b}),m&&r.a.createElement(c.vb,{className:f.a.inset},m))))}},2430:function(e,t,n){e.exports={error:"error-38MVm"}},2432:function(e,t,n){e.exports={offsetContent:"offsetContent-3gXFB",optionContent:"optionContent-1v_ZO",domainName:"domainName-17W0j",domainSelect:"domainSelect-38kWa",subdomainField:"subdomainField-88qtI",domainNamePreview:"domainNamePreview-1C3mr"}},2453:function(e,t,n){"use strict";var a=n(8),r=n.n(a),i=n(18),o=n(7),c=n(0),s=n.n(c),l=(n(3),n(20)),u=n(4),m=n(1337),d=n(57),b=function(e){var t=e.isOpen,n=e.onRequestClose,a=e.onPublish,o=e.onShowPreview;return s.a.createElement(u.P,{isOpen:t,onRequestClose:n},s.a.createElement(u.v,{initialValues:{publishText:""},onSubmit:function(){var e=Object(i.a)(r.a.mark((function e(t){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Object(d.m)("PUBLISH")(t.publishText))){e.next=3;break}return e.abrupt("return",{errors:{publishText:i}});case 3:return e.next=5,a();case 5:n();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validation:{publishText:Object(d.q)("Please enter PUBLISH exactly as shown.")}},s.a.createElement(u.R,null),s.a.createElement(u.Q,null,s.a.createElement(u.S,null,s.a.createElement(u.vb,{gap:2,minContainerWidth:"60ch"},s.a.createElement(u.tb,null,s.a.createElement(u.B,{level:2},"Ready to share your new site?"),s.a.createElement(u.Jb,null,"After you publish, your new site will permanently replace your existing site. Reporting data, like visits and page views, will carry over to your new site."),s.a.createElement(u.y,{component:u.F,name:"publishText",label:"Type PUBLISH to confirm"})),s.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},s.a.createElement("img",{src:"/images/neasite-website-modal.png",alt:""}))))),s.a.createElement(u.T,null,o&&s.a.createElement(u.g,{onClick:o,type:"tertiary"},"Preview Site"),s.a.createElement(u.ub,{type:"primary"},"Publish"))))},p=n(2430),g=n.n(p);t.a=function(e){var t=e.isOpen,n=e.onSuccess,a=void 0===n?function(){}:n,d=e.onRequestClose,p=e.onShowPreview,f=e.siteId,h=e.websiteTitle,v=Object(c.useState)(!1),E=Object(o.a)(v,2),y=E[0],w=E[1],O=Object(c.useState)(!1),j=Object(o.a)(O,2),k=j[0],S=j[1],C=Object(m.n)(f),P=C.isLoading,D=C.value||{},x=D.requiresWebsiteTerms,T=D.requiresBuyButtonTerms,I=D.publishedNeaUrl,N=Object(c.useState)(!0),A=Object(o.a)(N,2),_=A[0],F=A[1],J=Object(c.useState)(!1),L=Object(o.a)(J,2),U=L[0],R=L[1];Object(c.useEffect)((function(){P||U||(F(x||T),R(!0))}),[U,P,T,x]);var W=function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I||!_){e.next=3;break}return F(!1),e.abrupt("return");case 3:return e.prev=3,S(!1),w(!0),e.next=8,Object(m.h)({siteId:f});case 8:t=e.sent,Object(l.a)("settings dashboard","website settings","site status",{dimension53:"Publish",dimension54:window.location.pathname,dimension55:"confirm publish",dimension56:"published website"}),w(!1),d(),a(t),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),S(!0),w(!1);case 19:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(){return e.apply(this,arguments)}}();return I&&!_?s.a.createElement(b,{isOpen:t,onPublish:W,onRequestClose:d,onShowPreview:p}):s.a.createElement(u.P,{isOpen:t,onRequestClose:d,width:"sm"},s.a.createElement(u.R,null),s.a.createElement(u.U,null,x||T?"Review Terms & Publish Website":"Publish Website"),s.a.createElement(u.Q,null,s.a.createElement(u.S,null,s.a.createElement(u.tb,null,U?s.a.createElement(c.Fragment,null,x?s.a.createElement(u.tb,null,s.a.createElement(u.Jb,null,"You’re about to publish all pages of your site,"," ",s.a.createElement(u.Jb,{as:"span",appearance:"medium-bold"},h),". All visible pages of your site will be viewable online and in search engine results."),s.a.createElement(u.Jb,null,"To continue, please accept these"," ",s.a.createElement("a",{href:"https://mailchimp.com/legal/additional-terms/#For_Websites",target:"_blank",rel:"noopener noreferrer"},"additional terms and conditions"),".")):s.a.createElement(u.Jb,null,"You’re about to publish all pages of your site,"," ",s.a.createElement("strong",null,h),". All visible pages of your site will be viewable online and in search engine results."),T&&s.a.createElement(u.Jb,null,"To enable payment processing, please accept these"," ",s.a.createElement("a",{href:"https://mailchimp.com/legal/additional-terms/#For_Payment_Content_Block",target:"_blank",rel:"noopener noreferrer"},"additional terms for the payment content block"),".")):s.a.createElement(u.N,null,"Loading..."),k&&s.a.createElement(u.Jb,{className:g.a.error},"Something went wrong.")))),s.a.createElement(u.T,null,s.a.createElement(u.g,{disabled:y,onClick:function(){return d()},type:"tertiary","data-track-category":"settings dashboard","data-track-action":"website settings","data-track-label":"site status","data-track-dimension-53":"Cancel","data-track-dimension-54":window.location.pathname,"data-track-dimension-55":"cancel","data-track-dimension-56":"cancel publish website"},"Cancel"),s.a.createElement(u.g,{disabled:P,isLoading:y,onClick:W,type:"primary"},x||T?"Accept Terms & Publish":"Publish")))}},2489:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a={PENDING:"pending",VERIFYING:"verifying",SUSPENDED:"suspended",UNVERIFIED:"unverified",VERIFIED:"verified",ADMIN_REVIEWING:"admin_reviewing"},r={pending:"unverified",unverified:"unverified",verifying:"unverified",suspended:"suspended"}},2511:function(e,t,n){e.exports={toggleable:"toggleable-2OkhV",summary:"summary-3knNe",toggleableContent:"toggleableContent-3U7v3",inlineLoading:"inlineLoading-3J_FP"}},2513:function(e,t,n){e.exports={subfield:"subfield-1qzVy",trackingPreview:"trackingPreview-p07Jx"}},2565:function(e,t,n){"use strict";var a=n(1),r=n(0),i=n.n(r),o=(n(3),n(2394)),c=n(4),s=n(20);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=e.gaTrackingDimensions,n=void 0===t?{}:t;return i.a.createElement(i.a.Fragment,null,i.a.createElement(c.Jb,{appearance:"small"},"+1.5% transaction fee and",i.a.createElement("br",null),"Stripe processing fees"),i.a.createElement(c.Jb,{appearance:"small-secondary"},i.a.createElement("a",{onClick:function(){Object(s.a)("bottom sheet upgrade","cta","inline",u({dimension53:"See what else you'll get with the Websites & Commerce Core plan.",dimension54:"https://mailchimp.com/pricing/commerce/compare-plans/",dimension55:"within gray box to left of upgrade button",dimension56:"open external link in new tab"},n))},target:"_blank",rel:"noopener noreferrer",href:"https://mailchimp.com/pricing/commerce/compare-plans/"},"See what else you'll get with the Websites & Commerce Core plan.")))}function d(e){var t=e.gaTrackingDimensions,n=u({dimension55:"bottom sheet checkout plan details footer"},void 0===t?{}:t);return i.a.createElement(c.tb,{gap:4},i.a.createElement(c.vb,null,i.a.createElement(c.Jb,{appearance:"small-secondary"},"*Your plan will auto-renew each month at the then-current monthly plan rate (plus applicable taxes), on a recurring basis unless you cancel before your monthly billing date. You can"," ",i.a.createElement("a",{onClick:function(){Object(s.a)("bottom sheet upgrade","cta","inline",u({dimension53:"change",dimension54:"https://mailchimp.com/help/change-or-pause-your-commerce-plan/"},n))},href:"https://mailchimp.com/help/change-or-pause-your-commerce-plan/",rel:"noopener noreferrer",target:"_blank"},"change")," ","or"," ",i.a.createElement("a",{onClick:function(){Object(s.a)("bottom sheet upgrade","cta","inline",u({dimension53:"cancel",dimension54:"https://mailchimp.com/help/close-an-account/"},n))},href:"https://mailchimp.com/help/close-an-account/",rel:"noopener noreferrer",target:"_blank"},"cancel")," ","your plan at any time. If you create and publish a Store, transaction fees will be charged to you on a per transaction basis, based on the total order value (minus promotions and discounts, plus tax and shipping) for each transaction. Transaction fees for each pricing tier are described"," ",i.a.createElement("a",{onClick:function(){Object(s.a)("bottom sheet upgrade","cta","inline",u({dimension53:"here",dimension54:"https://mailchimp.com/pricing/commerce/compare-plans/"},n))},href:"https://mailchimp.com/pricing/commerce/compare-plans/",rel:"noopener noreferrer",target:"_blank"},"here"),'. These transaction fees are non-refundable. You will also be charged processing fees by Stripe. See your Stripe account (navigate to "Payments" and reference the "Fee" section of any transaction) and'," ",i.a.createElement("a",{onClick:function(){Object(s.a)("bottom sheet upgrade","cta","inline",u({dimension53:"Stripe.com/pricing",dimension54:"https://stripe.com/pricing/"},n))},href:"https://stripe.com/pricing/",rel:"noopener noreferrer",target:"_blank"},"Stripe.com/pricing")," ","for details. Click “Upgrade” to confirm that you agree.")))}var b=function(e){var t,n,a,r,s,l,u,b=e.gaTrackingDimensions,p=void 0===b?{}:b,g=Object(c.ec)();return i.a.createElement(o.a,{title:"Keep going with a Websites & Commerce Core plan",subtitle:"You'll get to connect your domain, and:",descriptionList:["The option to remove Mailchimp branding from your site","Award-winning email and chat support","Reduced transaction fees when you sell products online"],calloutSubtitle:"Websites & Commerce Core",calloutTitle:"Connect your domain + more",calloutContent:i.a.createElement(m,{gaTrackingDimensions:p}),currency:null===(t=g.user)||void 0===t?void 0:t.currency,currencyFormat:null===(n=g.user)||void 0===n?void 0:n.currencyFormat,price:null===(a=g.addOns)||void 0===a||null===(r=a[0])||void 0===r||null===(s=r.amount)||void 0===s?void 0:s[null===(l=g.user)||void 0===l||null===(u=l.currency)||void 0===u?void 0:u.id],footer:i.a.createElement(d,{gaTrackingDimensions:p}),gaTrackingDimensions:p})},p=n(2371),g=n(242),f=n(16),h=n(89),v=n(257);var E=Object(h.b)((function(){var e=f.b.query("/checkout/commerce/lazy",{asPriceArray:1,commercePackage:v.a});return f.b.get(e).then((function(e){return e.json()}))}));function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}t.a=function(e){var t,n=e.onClose,r=void 0===n?function(){}:n,o=e.onToastClose,c=void 0===o?function(){}:o,s=e.onPaymentSuccess,l=void 0===s?function(){}:s,u=e.gaTrackingDimensions,m=void 0===u?{}:u,d=e.isOpen,f=void 0!==d&&d,v=Object(h.e)(E),w=v.error,O=v.value,j=v.isLoading,k=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({dimension94:"websites & commerce core",dimension96:"domains overivew",dimension97:(null==O||null===(t=O.user.plan)||void 0===t?void 0:t.id)||""},m);return i.a.createElement(p.a,{onBottomSheetClose:r,title:"Upgrade to the Websites & Commerce Core plan",showBottomSheet:f,PlanDetails:function(){return i.a.createElement(b,{gaTrackingDimensions:k})},fetchedData:O,dataError:w,isLoading:j,onToastClose:c,onPaymentSuccess:function(e){var t,n,a,r,i,o=e.order,c=e.orderId,s=e.user,u=e.userId,m=e.total;window.dataLayer&&Array.isArray(window.dataLayer)||(window.dataLayer=[]),Object(g.g)(null,c,null==o||null===(t=o.addOns)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.package_id,null==s||null===(a=s.plans)||void 0===a||null===(r=a.commerce)||void 0===r||null===(i=r.id)||void 0===i?void 0:i.toLowerCase(),m,null,u,window.dataLayer),l(e)},normalizeOrderData:g.b,gaTrackingData:k})}},2670:function(e,t,n){e.exports={error:"error-3VDMh",siteNamePreview:"siteNamePreview-1y1NM"}},2674:function(e,t,n){e.exports={error:"error-2BktQ"}},2676:function(e,t,n){e.exports={error:"error-2LTMQ"}},2678:function(e,t,n){e.exports={imageWrapper:"imageWrapper-wismr",image:"image-3rzx_",content:"content-kPuGe"}},2680:function(e,t,n){e.exports={pageContainer:"pageContainer-ldIKI"}},2953:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(7),i=n(0),o=n.n(i),c=(n(3),n(2339),n(24)),s=n(4),l=n(8),u=n.n(l),m=n(18),d=n(20),b=n(57),p=n(2373),g=n(2369),f=n(2670),h=n.n(f),v=function(e){var t=e.website,n=t.domain,a=t.id,c=t.name,l=Object(i.useState)(c),f=Object(r.a)(l,2),v=f[0],E=f[1],y=Object(i.useState)(!1),w=Object(r.a)(y,2),O=w[0],j=w[1],k=Object(i.useState)(!1),S=Object(r.a)(k,2),C=S[0],P=S[1],D=function(){return j(!1)},x=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!1),e.next=4,Object(p.d)({siteId:a,details:{title:t.name,domain:n}});case 4:Object(d.a)("settings dashboard","website settings","site name",{dimension58:"name",dimension59:t.name}),E(t.name),D(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),P(!0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(g.a,{title:"Site title"},O?o.a.createElement(s.v,{initialValues:{name:v},validation:{name:Object(b.h)(Object(b.q)("Site must have a title."),Object(b.i)(50))},onSubmit:x},o.a.createElement(s.tb,null,o.a.createElement(s.y,{component:s.F,name:"name",label:"Site title",required:!0,helpText:"This will appear in browser tabs and search engine results."}),C&&o.a.createElement("div",{className:h.a.error},o.a.createElement(s.Jb,null,"Invalid site title")),o.a.createElement(s.l,{justifyContent:"flex-end"},o.a.createElement(s.g,{type:"tertiary",onClick:D},"Cancel"),o.a.createElement(s.ub,{type:"primary"},"Save")))):o.a.createElement(s.l,{justifyContent:"space-between",nowrap:!0},o.a.createElement(s.Jb,{className:h.a.siteNamePreview},v),o.a.createElement(s.g,{type:"tertiary",onClick:function(){return j(!0)},"data-track-category":"settings dashboard","data-track-action":"website settings","data-track-label":"select site name","data-track-dimension-53":"Edit","data-track-dimension-54":window.location.pathname,"data-track-dimension-55":"website settings","data-track-dimension-56":"show edit form"},"Edit")))},E=n(23),y=n(89),w=n(2513),O=n.n(w);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S,C=function(e){return function(t){return t.settingType===e}},P=function(e){var t=e.settings,n=e.onSubmit,a=e.onRequestClose,r=t.didAcceptTerms,c=t.items,l=c.find(C(0)),d=c.find(C(1)),p=c.find(C(4)),g=c.find(C(2)),f=c.find(C(3)),h="Track with Mailchimp",v="Track with Facebook Pixel",E="Facebook Limited Data Use",y="Track with Google Analytics",w="Google Restricted Data Processing",j=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=void 0,o=void 0,c=void 0,s=void 0,u=void 0,m=void 0,b=void 0,O=void 0,j=void 0,i=(r=t).mcTracking,o=r.useGaId,c=r.useFbPixel,s=r.hasAdsAccountPixel,u=r.fbPixel,m=r.fbCcpa,b=r.gaTrackingId,O=r.gaCcpa,j=[k(k({},l),{},{label:h,enabled:i,data:[]}),k(k({},d),{},{label:v,enabled:c,data:{hasAdsAccountPixel:c&&s,fbPixel:c&&u?u:""}}),k(k({},g),{},{label:y,enabled:o,data:{gaTrackingId:b}}),k(k({},f),{},{label:w,enabled:O,data:[]}),k(k({},p),{},{label:E,enabled:m,data:[]})],a={didAcceptTerms:r.didAcceptTerms,items:j},e.next=4,n(a);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{errors:{general:e.t0.message||"Please address and try again."}});case 9:case"end":return e.stop()}var r,i,o,c,s,u,m,b,O,j}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(s.v,{initialValues:{didAcceptTerms:r,mcTracking:l&&l.enabled,useFbPixel:d.enabled,hasAdsAccountPixel:d.enabled&&d.data.hasAdsAccountPixel,fbPixel:d.data.fbPixel,fbCcpa:p&&p.enabled,useGaId:g.enabled,gaTrackingId:g.data.gaTrackingId||"",gaCcpa:f&&f.enabled},validation:{didAcceptTerms:Object(b.q)("You must agree to our terms of service."),fbPixel:function(e,t){return!e&&t.hasAdsAccountPixel&&t.useFbPixel?"Please enter an ID":null},gaTrackingId:function(e,t){return!e&&t.useGaId?"Please enter an ID":null}},onSubmit:j},o.a.createElement(s.tb,{gap:7},o.a.createElement(s.tb,{gap:6},o.a.createElement(s.w.Consumer,null,(function(e){var t=e.values,n=e.errors,a="We're having trouble saving your tracking settings.";return t.hasAdsAccountPixel||(t.fbPixel=null),t.useFbPixel&&!t.hasAdsAccountPixel?a+=" Try adding your Facebook pixel manually.":a+=" Please try again later.",o.a.createElement(i.Fragment,null,n.general&&o.a.createElement(s.x,{type:"warning",title:a}),o.a.createElement(s.y,{component:s.i,name:"mcTracking",label:h,children:o.a.createElement(i.Fragment,null,"Use cookies to track visitors to your website. Receive page view events and link click data of your contacts prior to conversion by retrieving page view and link click data from a contact's localStorage. Learn more"," ",o.a.createElement("a",{href:"https://mailchimp.com/help/use-track-mailchimp/",target:"_blank",rel:"noopener noreferrer"},"here"),".")}),o.a.createElement(s.tb,null,o.a.createElement(s.y,{component:s.i,name:"useFbPixel",label:v,children:o.a.createElement(i.Fragment,null,"Add the Facebook Pixel to your website to track page views. Learn more"," ",o.a.createElement("a",{href:"https://mailchimp.com/help/use-facebook-pixel/",target:"_blank",rel:"noopener noreferrer"},"here"),".")}),t.useFbPixel&&o.a.createElement(s.tb,{className:O.a.subfield},o.a.createElement(s.y,{component:s.i,name:"hasAdsAccountPixel",label:"I have my own pixel."}),t.hasAdsAccountPixel&&o.a.createElement(s.y,{component:s.F,name:"fbPixel",label:"FB Pixel ID",suffix:o.a.createElement("a",{href:"https://mailchimp.com/help/use-facebook-pixel/",target:"_blank",rel:"noopener noreferrer"},"Where to find it")}))),o.a.createElement(s.y,{component:s.i,name:"fbCcpa",label:E,children:o.a.createElement(i.Fragment,null,"Facebook offers limited data use in connection with the California Consumer Privacy Act (CCPA), which limits how Facebook processes certain data. Learn more"," ",o.a.createElement("a",{href:"https://mailchimp.com/help/facebook-limited-data-use/",target:"_blank",rel:"noopener noreferrer"},"here"),".")}),o.a.createElement(s.tb,null,o.a.createElement(s.y,{component:s.i,name:"useGaId",label:y,children:o.a.createElement(i.Fragment,null,"Add Google Analytics to your website to track page views. Learn more"," ",o.a.createElement("a",{href:"https://mailchimp.com/help/use-google-analytics/",target:"_blank",rel:"noopener noreferrer"},"here"),".")}),t.useGaId&&o.a.createElement("div",{className:O.a.subfield},o.a.createElement(s.y,{component:s.F,name:"gaTrackingId",label:"Google Analytics ID",suffix:o.a.createElement("a",{href:"https://mailchimp.com/help/use-google-analytics/",target:"_blank",rel:"noopener noreferrer"},"Where to find it")}))),o.a.createElement(s.y,{component:s.i,name:"gaCcpa",label:w,children:o.a.createElement(i.Fragment,null,"Google offers restricted data processing in connection with the CCPA, which restricts how Google processes certain data. Learn more"," ",o.a.createElement("a",{href:"https://privacy.google.com/businesses/rdp/",target:"_blank",rel:"noopener noreferrer"}," ","here"),".")}),!r&&o.a.createElement(s.y,{component:s.i,name:"didAcceptTerms",label:o.a.createElement(i.Fragment,null,"To use this tracking, I agree to Mailchimp's"," ",o.a.createElement("a",{href:"https://mailchimp.com/legal/additional-terms/",target:"_blank",rel:"noopener noreferrer"},"additional terms"),".")}))}))),o.a.createElement(s.l,{justifyContent:"flex-end"},o.a.createElement(s.kb,{onClick:a,type:"tertiary"},"Cancel"),o.a.createElement(s.ub,{type:"primary"},"Save"))))},D=Object(y.b)(p.b),x=(S={},Object(a.a)(S,0,"Mailchimp"),Object(a.a)(S,1,"Facebook"),Object(a.a)(S,2,"Google Analytics"),Object(a.a)(S,3,"Google CCPA"),Object(a.a)(S,4,"Facebook CCPA"),S);function T(e){return e.filter((function(e){return e.enabled&&e.label})).map((function(e){return e.label})).join(", ").toLowerCase()}var I=function(e){var t=e.website.id,n=Object(i.useState)(!1),a=Object(r.a)(n,2),c=a[0],l=a[1],b=function(){return l(!1)},f=Object(y.e)(D,{siteId:t}),h=f.isLoading,v=f.value,w=Object(i.useState)(v),j=Object(r.a)(w,2),k=j[0],S=j[1];Object(i.useEffect)((function(){!h&&v&&S(v)}),[h,v]);var C=k&&k.items.filter((function(e){return e.enabled})).reduce((function(e,t){var n=t.settingType;return[].concat(Object(E.a)(e),[x[n]])}),[]).join(", "),I=function(){var e=Object(m.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.e)({siteId:t,data:n});case 2:S(n),Object(d.a)("settings dashboard","website settings","site tracking",{dimension53:"Save",dimension54:window.location.pathname,dimension55:T(n.items),dimension56:"save tracking settings"}),b();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(g.a,{title:"Site tracking"},c?o.a.createElement(P,{settings:k,onSubmit:I,onRequestClose:b}):o.a.createElement(s.l,{justifyContent:"space-between",nowrap:!0},h?o.a.createElement(s.N,null,"Loading settings..."):o.a.createElement(s.Jb,{className:O.a.trackingPreview},C||"Tracking disabled"),o.a.createElement(s.g,{type:"tertiary",disabled:h,onClick:function(){return l(!0)},"data-track-category":"settings dashboard","data-track-action":"website settings","data-track-label":"select site tracking","data-track-dimension-53":"Edit","data-track-dimension-54":window.location.pathname,"data-track-dimension-55":"website settings","data-track-dimension-56":"show tracking settings form"},"Edit")))},N=n(2489),A=n(2432),_=n.n(A),F=function(e){var t=e.domains,n=e.isOpen,a=e.hasFeature,r=e.hasCustomDomain,i=e.currentDomain,l=e.onUpgradeClick;return n&&r&&!a?o.a.createElement(s.tb,{className:_.a.offsetContent},o.a.createElement(s.l,null,o.a.createElement(s.y,{component:s.mb,name:"domain",label:"Domain",className:_.a.domainSelect,hideLabel:!0,disabled:!0},o.a.createElement(s.W,{value:i,key:i,"aria-label":i},i)),o.a.createElement(s.g,{type:"secondary",onClick:l},"Upgrade")),o.a.createElement(s.Jb,null,"To use a different custom domains on your website, upgrade to the"," ",o.a.createElement("a",{href:"https://mailchimp.com/pricing/commerce/compare-plans/",target:"_blank",rel:"noopener noreferrer"},"Core Commerce plan"),".")):a||r?n?0===t.length?o.a.createElement(s.tb,{className:_.a.offsetContent},o.a.createElement(s.Jb,null,"Make your site look more professional with a custom domain."),o.a.createElement(s.l,null,o.a.createElement(c.b,{as:s.g,type:"secondary",to:"/jump/purchase-domain","data-track-category":"settings dashboard","data-track-action":"website settings","data-track-label":"website domain","data-track-dimension-53":"Purchase a Domain","data-track-dimension-54":"/jump/purchase-domain","data-track-dimension-55":"purchase domain","data-track-dimension-56":"navigate"},"Purchase a Domain"),o.a.createElement(c.b,{to:"/jump/connect-domain",as:s.g,type:"tertiary","data-track-category":"settings dashboard","data-track-action":"website settings","data-track-label":"website domain","data-track-dimension-53":"Connect a Domain","data-track-dimension-54":"/jump/connect-domain","data-track-dimension-55":"connect domain","data-track-dimension-56":"navigate"},"Connect a Domain"),o.a.createElement(s.w.Consumer,null,(function(e){var t=e.errors;return t&&o.a.createElement("div",{className:_.a.error},t.domain)})))):o.a.createElement(s.tb,{className:_.a.offsetContent,gap:2},o.a.createElement(s.y,{component:s.mb,name:"domain",label:"Domain",className:_.a.domainSelect,hideLabel:!0},t&&t.map((function(e){return o.a.createElement(s.W,{value:e.value,key:e.value,"aria-label":e.value,disabled:e.disabled},e.value)}))),o.a.createElement(s.Jb,{appearance:"small"},"To add or update your domains, go to"," ",o.a.createElement(c.b,{to:"/account/domains/"},"Domains Overview"),".")):null:o.a.createElement(s.tb,{className:_.a.offsetContent},o.a.createElement(s.Jb,null,"To use your custom domains on your website, upgrade to the"," ",o.a.createElement("a",{href:"https://mailchimp.com/pricing/commerce/compare-plans/",target:"_blank",rel:"noopener noreferrer"},"Core Commerce plan"),"."),o.a.createElement("div",null,o.a.createElement(s.g,{type:"secondary",onClick:l,"data-track-category":"upsell moment","data-track-action":"click","data-track-label":JSON.stringify({location:"website settings","upgrade reason":"connect a domain","button text":"Upgrade"}),"data-track-dimension-53":"Upgrade","data-track-dimension-54":null,"data-track-dimension-55":"domains setting panel","data-track-dimension-56":"open bottom sheet upgrade moment","data-track-dimension-94":"websites & commerce core","data-track-dimension-95":"bottom sheet","data-track-dimension-96":"website settings","data-track-dimension-97":"commerce free"},"Upgrade")))},J=function(e){var t=e.mcSitesDomain;return e.isOpen?o.a.createElement(s.tb,{className:_.a.offsetContent},o.a.createElement(s.l,{gap:1,alignItems:"flex-start"},o.a.createElement(s.y,{component:s.F,name:"mcSubDomain",label:"Domain Address",className:_.a.subdomainField,hideLabel:!0}),o.a.createElement(s.Jb,{as:"span",appearance:"medium",className:_.a.domainName},".",t))):null},L=n(2361),U=n(2565);var R=function(e){var t,n,c=e.website,l=e.mcSitesDomain,f=e.onDomainChangeSuccess,h=c.domain,v=c.name,E=c.id,y=Object(i.useState)(!1),w=Object(r.a)(y,2),O=w[0],j=w[1],k=Object(i.useState)(!1),S=Object(r.a)(k,2),C=S[0],P=S[1],D=Object(i.useState)(!1),x=Object(r.a)(D,2),T=x[0],I=x[1],A=Object(L.a)("connect_domains"),R=A.isAuthorized,W=A.isCheckingAuthorization,q=Object(p.f)({siteId:E}),B=q.isLoading,M=q.value,z=(t=h,n=".".concat(l),-1!==t.indexOf(n,t.length-n.length)),G=B||W,V=M&&M.registeredDomains.domains?M.registeredDomains.domains.reduce((function(e,t){return e[t.domain]=t,e}),{}):{},Y=M?function(e,t){return e.map((function(e){return{value:e,disabled:!!t[e]&&t[e].verificationStatus===N.b.SUSPENDED}}))}(M.customDomains,V):[],Q=z?h.substr(0,h.indexOf(".".concat(l))):"",H=function(){return j(!1)},K=function(){var e=Object(m.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.isMCDomainSelected?"".concat(t.mcSubDomain,".").concat(l):t.domain,t.isMCDomainSelected||0!==Y.length){e.next=4;break}return e.abrupt("return",{errors:{domain:"You have to purchase or connect a domain to use a custom domain for your website."}});case 4:if(n===h){e.next=8;break}return P(!0),e.next=8,Object(p.d)({siteId:E,details:{title:v,domain:n}});case 8:Object(d.a)("settings dashboard","website settings","website domain",{dimension53:"Save",dimension54:window.location.pathname,dimension55:t.isMCDomainSelected?"mailchimp domain":"custom domain",dimension56:"edit slat"}),f(n),H(),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{errors:Object(a.a)({},t.isMCDomainSelected?"mcSubDomain":"domain","Invalid domain")});case 16:return e.prev=16,P(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(g.a,{title:"Domain"},O?G?o.a.createElement(s.N,null,"Loading domains…"):o.a.createElement(s.v,{initialValues:{domain:z&&(null==Y?void 0:Y.length)>0?Y[0].value:h,mcSubDomain:Q,isMCDomainSelected:z},validation:{domain:Object(b.q)("Site must have a domain."),mcSubDomain:function(e,t){return t.isMCDomainSelected?Object(b.h)(Object(b.q)("Site must have a domain."),Object(b.s)(),Object(b.i)(82-l.length-1))(e):null}},onSubmit:K},o.a.createElement(s.tb,null,o.a.createElement(s.y,{component:s.jb,name:"isMCDomainSelected",label:o.a.createElement("span",{className:"wink-visually-hidden"},"Select domain source")},o.a.createElement(s.w.Consumer,null,(function(e){var t=e.values;return o.a.createElement(s.tb,{gap:7},o.a.createElement(s.tb,null,o.a.createElement(s.ib,{value:!1,label:o.a.createElement(s.l,null,o.a.createElement("span",null,"Use a custom domain"),!R&&o.a.createElement(s.e,{type:"new"},"Upgrade")),disabled:C||!R&&z}),o.a.createElement(F,{domains:Y,isOpen:!t.isMCDomainSelected,hasFeature:R,hasCustomDomain:!z,currentDomain:h,onUpgradeClick:function(){return I(!0)}})),o.a.createElement(s.tb,null,o.a.createElement(s.ib,{value:!0,label:"Use a Mailchimp domain",disabled:C}),o.a.createElement(J,{mcSitesDomain:l,isOpen:t.isMCDomainSelected})))})))),o.a.createElement(s.l,{justifyContent:"flex-end"},o.a.createElement(s.g,{type:"tertiary",onClick:H},"Cancel"),o.a.createElement(s.ub,{type:"primary"},"Save"))):o.a.createElement(s.l,{justifyContent:"space-between",nowrap:!0},o.a.createElement(s.Jb,{className:_.a.domainNamePreview},h),o.a.createElement(s.g,{type:"tertiary",onClick:function(){return j(!0)},"data-track-category":"settings dashboard","data-track-action":"website settings","data-track-label":"select site domain","data-track-dimension-53":"Edit","data-track-dimension-54":window.location.pathname,"data-track-dimension-55":"website settings","data-track-dimension-56":"show edit domain form"},"Edit")),o.a.createElement(U.a,{isOpen:T,onClose:function(){return I(!1)},gaTrackingDimensions:{dimension96:"website settings"}}))},W=n(2400);var q=function(e){var t=e.isOpen,n=e.hasCommercePlanOrSchedulingAddon,a=e.hasActiveAppointment,r=void 0!==a&&a,l=e.hasActiveService,p=void 0!==l&&l,g=e.hasStore,f=void 0!==g&&g,h=e.onRequestClose,v=e.websiteTitle,E=e.siteId,y=Object(i.useRef)();function w(){return(w=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("DELETE"===t.confirmDelete){e.next=2;break}return e.abrupt("return",{errors:{confirmDelete:"Input did not match DELETE."}});case 2:return e.prev=2,e.next=5,Object(W.a)(E);case 5:Object(d.a)("settings dashboard","website settings","site status",{dimension53:"Delete",dimension54:window.location.pathname,dimension55:"confirm delete site",dimension56:"delete website"}),location.href="/website/dashboard/",e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{errors:{confirmDelete:"Something went wrong."}});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return Object(i.useEffect)((function(){t&&y.current&&y.current.focus()}),[t]),o.a.createElement(s.P,{isOpen:t,onRequestClose:h,width:"sm"},o.a.createElement(s.v,{onSubmit:function(e){return w.apply(this,arguments)},initialValues:{confirmDelete:""},validation:{confirmDelete:Object(b.q)("Please enter DELETE to confirm.")},gap:0},o.a.createElement(s.R,null),o.a.createElement(s.U,null,f||r||p?"Unable to Delete Site":"Delete Site"),o.a.createElement(s.Q,null,o.a.createElement(s.S,null,o.a.createElement(s.tb,null,f?o.a.createElement(s.Jb,null,"We can’t delete a site that includes a store. If needed, unpublish your site or disable your store to take products offline."):r||p?o.a.createElement(o.a.Fragment,null,o.a.createElement(s.Jb,null," ","We can’t delete a site that has services or scheduled appointments."," "),o.a.createElement(s.Jb,null,"To cancel scheduled appointments and delete services, go to"," ",o.a.createElement(c.b,{to:"/appointments/manage/"},"Appointments"),".")):o.a.createElement(o.a.Fragment,null,o.a.createElement(s.Jb,null,"This will permanently delete your site,"," ",o.a.createElement("strong",null,v),". Domains associated with this site will no longer display your website content."),o.a.createElement(s.Jb,null,"This will also delete all website reports and pause ads and automated emails that use shared site data.",n&&o.a.createElement(s.Jb,null,"If you've purchased a Website & Commerce plan or the Advanced Scheduling add-on, you’ll continue to be charged monthly until you"," ",o.a.createElement("a",{href:"/stores/settings/payments",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"}},"downgrade."))),o.a.createElement(s.y,{component:s.F,name:"confirmDelete",label:"Type DELETE to confirm.",ref:y}))))),o.a.createElement(s.T,null,o.a.createElement(s.g,{onClick:function(){return h()},type:r||f||p?"primary":"tertiary","data-track-category":"settings dashboard","data-track-action":"website settings","data-track-label":"site status","data-track-dimension-53":"Cancel","data-track-dimension-54":window.location.pathname,"data-track-dimension-55":"cancel","data-track-dimension-56":"cancel delete website"},"Cancel"),!r&&!f&&!p&&o.a.createElement(s.ub,{type:"primary"},"Delete"))))},B=n(2453),M=n(1337),z=n(2674),G=n.n(z);var V=function(e){var t=e.hasActiveAppointment,n=void 0!==t&&t,a=e.isOpen,l=e.onSuccess,b=void 0===l?function(){}:l,p=e.onRequestClose,g=e.siteId,f=e.websiteTitle,h=Object(i.useState)(!1),v=Object(r.a)(h,2),E=v[0],y=v[1],w=Object(i.useState)(!1),O=Object(r.a)(w,2),j=O[0],k=O[1],S=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!1),y(!0),e.next=5,Object(M.m)({siteId:g});case 5:t=e.sent,Object(d.a)("settings dashboard","website settings","site status",{dimension53:"Unpublish",dimension54:window.location.pathname,dimension55:"confirm unpublish",dimension56:"unpublished website"}),y(!1),p(),b(t),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),k(!0),y(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(s.P,{isOpen:a,onRequestClose:p,width:"sm"},o.a.createElement(s.R,null),o.a.createElement(s.U,null,"Unpublish Site"),o.a.createElement(s.Q,null,o.a.createElement(s.S,null,o.a.createElement(s.tb,null,n?o.a.createElement(o.a.Fragment,null,o.a.createElement(s.Jb,null,"This site has scheduled appointments."),o.a.createElement(s.Jb,null,"Before you can unpublish, you’ll need to cancel any scheduled appointments."," ",o.a.createElement(c.b,{to:"/appointments/manage/"},"Manage appointments"))):o.a.createElement(o.a.Fragment,null,o.a.createElement(s.Jb,null,"This will unpublish all pages of your site,"," ",o.a.createElement("strong",null,f),". Domains associated with this site will no longer display your website content."),o.a.createElement(s.Jb,null,"Are you sure you want to unpublish this site?"),j&&o.a.createElement(s.Jb,{className:G.a.error},"Something went wrong."))))),o.a.createElement(s.T,null,o.a.createElement(s.g,{onClick:function(){return p()},type:n?"primary":"tertiary","data-track-category":"settings dashboard","data-track-action":"website settings","data-track-label":"site status","data-track-dimension-53":"Cancel","data-track-dimension-54":window.location.pathname,"data-track-dimension-55":"cancel","data-track-dimension-56":"cancel unpublish website"},"Cancel"),!n&&o.a.createElement(s.g,{isLoading:E,onClick:S,type:"primary"},"Unpublish")))},Y=function(e){var t=e.website,n=e.onPublishStateChange,a=e.hasStore,c=e.hasCommercePlanOrSchedulingAddon,l=t.hasActiveAppointment,u=t.hasActiveService,m=t.id,d=t.isPublished,b=t.name,p=Object(i.useState)(!1),f=Object(r.a)(p,2),h=f[0],v=f[1],E=Object(i.useState)(!1),y=Object(r.a)(E,2),w=y[0],O=y[1],j=Object(i.useState)(!1),k=Object(r.a)(j,2),S=k[0],C=k[1],P=function(e){e.success&&(n(e.website),v(!1))};return o.a.createElement(g.a,{title:"Site status"},h?o.a.createElement(i.Fragment,null,o.a.createElement(s.tb,{gap:7},o.a.createElement(s.l,{style:{paddingTop:"10px"}},d?o.a.createElement(s.e,{type:"success"},"Published"):o.a.createElement(s.e,{type:"neutral"},"Unpublished")),d?o.a.createElement(s.Jb,null,"Your website and visible pages are viewable online and in search engine results."):o.a.createElement(s.Jb,null,"Your website and pages are not viewable online."),o.a.createElement(s.l,null,o.a.createElement(s.g,{type:"primary",onClick:function(){return C(!0)},"data-track-category":"settings dashboard","data-track-action":"website settings","data-track-label":"site status","data-track-dimension-53":d?"Unpublish Site":"Publish Site","data-track-dimension-54":window.location.pathname,"data-track-dimension-55":d?"unpublish site":"publish site","data-track-dimension-56":d?"unpublish website":"publish website"},d?"Unpublish":"Publish"," Site"),o.a.createElement(s.g,{type:"secondary",onClick:function(){return O(!0)},"data-track-category":"settings dashboard","data-track-action":"website settings","data-track-label":"site status","data-track-dimension-53":"Delete Site","data-track-dimension-54":window.location.pathname,"data-track-dimension-55":"delete site","data-track-dimension-56":"delete website"},"Delete Site")),o.a.createElement(s.l,{justifyContent:"flex-end"},o.a.createElement(s.g,{type:"tertiary",onClick:function(){return v(!1)}},"Cancel"))),o.a.createElement(q,{isOpen:w,onRequestClose:function(){return O(!1)},websiteTitle:b,hasCommercePlanOrSchedulingAddon:c,hasActiveAppointment:l,hasActiveService:u,hasStore:a,siteId:m}),d?o.a.createElement(V,{isOpen:S,onRequestClose:function(){return C(!1)},onSuccess:P,hasActiveAppointment:l,siteId:m,websiteTitle:b}):o.a.createElement(B.a,{isOpen:S,onRequestClose:function(){return C(!1)},onSuccess:P,siteId:m,websiteTitle:b})):o.a.createElement(s.l,{justifyContent:"space-between",nowrap:!0},d?o.a.createElement(s.e,{type:"success"},"Published"):o.a.createElement(s.e,{type:"neutral"},"Unpublished"),o.a.createElement(s.g,{type:"tertiary",onClick:function(){return v(!0)},"data-track-category":"settings dashboard","data-track-action":"website settings","data-track-label":"select site status","data-track-dimension-53":"Edit","data-track-dimension-54":window.location.pathname,"data-track-dimension-55":"website settings","data-track-dimension-56":"show site status actions"},"Edit")))},Q=n(2676),H=n.n(Q);var K=function(e){var t=e.connectedSiteId,n=e.isOpen,a=e.onRequestClose,c=e.onSuccess,l=Object(i.useState)(!1),b=Object(r.a)(l,2),g=b[0],f=b[1],h=Object(i.useState)(!1),v=Object(r.a)(h,2),E=v[0],y=v[1],w=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!1),f(!0),e.next=5,Object(p.c)({connectedSiteId:t});case 5:Object(d.a)("settings dashboard","website settings","pop-up form",{dimension53:"Remove",dimension54:window.location.pathname,dimension55:"confirm removal",dimension56:"pop-up removed"}),f(!1),c(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),y(!0),f(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(s.P,{isOpen:n,onRequestClose:a,width:"sm"},o.a.createElement(s.R,null),o.a.createElement(s.U,null,"Remove Pop-Up?"),o.a.createElement(s.Q,null,o.a.createElement(s.S,null,o.a.createElement(s.tb,null,o.a.createElement(s.Jb,null,"This will remove the pop-up from your site. Are you sure you want to remove the form?"),E&&o.a.createElement("div",{className:H.a.error},o.a.createElement(s.Jb,null,"Something went wrong."))))),o.a.createElement(s.T,null,o.a.createElement(s.g,{onClick:a,type:"tertiary","data-track-category":"settings dashboard","data-track-action":"website settings","data-track-label":"pop-up form","data-track-dimension-53":"Cancel","data-track-dimension-54":window.location.pathname,"data-track-dimension-55":"cancel","data-track-dimension-56":"cancel remove pop-up"},"Cancel"),o.a.createElement(s.g,{type:"primary",onClick:w,isLoading:g},"Remove")))},Z=Object(y.b)(p.a),X=function(e){var t=e.website.id,n=Object(i.useState)(!1),a=Object(r.a)(n,2),l=a[0],u=a[1],m=Object(i.useState)(!1),d=Object(r.a)(m,2),b=d[0],p=d[1],f=Object(i.useState)(!1),h=Object(r.a)(f,2),v=h[0],E=h[1],w=Object(y.e)(Z,{siteId:t}),O=w.isLoading,j=w.value,k=function(){return u(!1)};return Object(i.useEffect)((function(){j&&E(j.hasPopup)}),[j]),o.a.createElement(g.a,{title:"Pop-up form"},l?o.a.createElement(s.tb,{gap:7},o.a.createElement(s.l,{style:{paddingTop:"10px"}},v?o.a.createElement(s.e,{type:"success"},"Enabled"):o.a.createElement(s.e,{type:"neutral"},"Disabled")),o.a.createElement(s.l,{nowrap:!0},v?o.a.createElement(i.Fragment,null,o.a.createElement(s.g,{type:"primary",href:"/lists/signup-forms/popup/editor?id=".concat(j.audienceId,"&website_id=").concat(t),"data-track-category":"settings dashboard","data-track-action":"website settings","data-track-label":"pop-up form","data-track-dimension-53":"Update Pop-up","data-track-dimension-54":"/lists/signup-forms/popup/editor?id=".concat(j.audienceId,"&website_id=").concat(t),"data-track-dimension-55":"update","data-track-dimension-56":"navigate"},"Update Pop-up"),o.a.createElement(s.g,{type:"secondary",onClick:function(){return p(!0)},"data-track-category":"settings dashboard","data-track-action":"website settings","data-track-label":"pop-up form","data-track-dimension-53":"Remove Pop-up","data-track-dimension-54":window.location.pathname,"data-track-dimension-55":"remove","data-track-dimension-56":"remove pop-up"},"Remove Pop-up")):o.a.createElement(i.Fragment,null,o.a.createElement(s.Jb,null,"Add a Pop-up Form to welcome your site visitors and turn them into subscribers."),o.a.createElement(c.b,{as:s.g,type:"primary",to:"/lists/signup-forms/popup/editor?id=".concat(j.audienceId,"&website_id=").concat(t),"data-track-category":"settings dashboard","data-track-action":"website settings","data-track-label":"pop-up form","data-track-dimension-53":"Add Pop-up","data-track-dimension-54":"/lists/signup-forms/popup/editor?id=".concat(j.audienceId,"&website_id=").concat(t),"data-track-dimension-55":"add","data-track-dimension-56":"navigate"},"Add Pop-up"))),o.a.createElement(s.l,{justifyContent:"flex-end"},o.a.createElement(s.g,{type:"tertiary",onClick:k},"Cancel"))):o.a.createElement(s.l,{justifyContent:"space-between",nowrap:!0},O?o.a.createElement(s.N,null,"Loading settings..."):v?o.a.createElement(s.e,{type:"success"},"Enabled"):o.a.createElement(s.e,{type:"neutral"},"Disabled"),o.a.createElement(s.g,{type:"tertiary",disabled:O,onClick:function(){return u(!0)},"data-track-category":"settings dashboard","data-track-action":"website settings","data-track-label":"select popup form","data-track-dimension-53":"Edit","data-track-dimension-54":window.location.pathname,"data-track-dimension-55":"website settings","data-track-dimension-56":"show popup form setting"},"Edit")),j&&o.a.createElement(K,{isOpen:b,onRequestClose:function(){return p(!1)},onSuccess:function(){p(!1),E(!1),k()},connectedSiteId:j.connectedSiteId}))},$=n(2678),ee=n.n($),te=function(){return o.a.createElement(s.A,{gap:4},o.a.createElement("div",{className:ee.a.imageWrapper},o.a.createElement("img",{src:"https://s3.amazonaws.com/cdn-images.mailchimp.com/website/settings/no-site.png",alt:"",loading:"lazy",width:"586",height:"586",className:ee.a.image})),o.a.createElement(s.tb,{className:ee.a.content},o.a.createElement(s.B,{level:2},"After you set up your site, this is where you can manage your settings"),o.a.createElement(s.l,null,o.a.createElement(c.b,{as:s.g,type:"primary",to:"/websites/start-your-site/"},"Create Site"))))},ne=n(2680),ae=n.n(ne);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.data,n=t.mcSitesDomain,a=t.website,l=t.store,u=Object(i.useState)(a),m=Object(r.a)(u,2),d=m[0],b=m[1],p=d||{},g=p.id,f=p.hasStore,h=Object(L.a)("remove_sites_branding").isAuthorized;return o.a.createElement(c.c,{title:"Website Settings"},o.a.createElement(s.Tb,null,o.a.createElement(s.X,null,o.a.createElement(s.ab,{title:l?"General":"Settings",breadcrumbs:l&&o.a.createElement(s.eb,null,o.a.createElement(c.b,{as:s.db,to:"/website/settings?id=".concat(g)},"Settings"))}),d?o.a.createElement(s.tb,{gap:8,className:ae.a.pageContainer},o.a.createElement(v,{website:d}),o.a.createElement(R,{website:d,onDomainChangeSuccess:function(e){return b(ie(ie({},d),{},{domain:e}))},mcSitesDomain:n}),o.a.createElement(X,{website:d}),o.a.createElement(I,{website:d}),o.a.createElement(Y,{website:d,onPublishStateChange:function(e){return b(e)},hasStore:f,hasCommercePlanOrSchedulingAddon:h})):o.a.createElement(s.Z,null,o.a.createElement(te,null)))))}},3449:function(e,t,n){e.exports={root:"root-2R0yX",link:"link-2S7wJ",arrow:"arrow-210Bb",title:"title-30chW",content:"content-hPFKT"}},4849:function(e,t,n){"use strict";n.r(t);n(3);var a=n(0),r=n.n(a),i=n(24),o=n(4),c=n(6),s=n(31),l=n(3449),u=n.n(l),m=function(e){var t=e.description,n=e.href,a=e.title;return r.a.createElement("li",{className:u.a.root},r.a.createElement(i.b,{to:n,className:u.a.link,"data-track-category":"settings dashboard","data-track-action":a,"data-track-label":"select","data-track-dimension-53":a,"data-track-dimension-54":n,"data-track-dimension-55":"list of settings","data-track-dimension-56":"navigate"},r.a.createElement(o.tb,{gap:2,className:u.a.content},r.a.createElement(o.B,{level:2,appearance:"heading-4",className:u.a.title},a),r.a.createElement(o.Jb,null,t)),r.a.createElement(s.wb,{className:u.a.arrow})))},d=n(2953);t.default=function(e){var t=e.data,n=t.website,a=t.store,s=t.hasServices;return n&&(a||s)?r.a.createElement(i.c,{title:"Website Settings"},r.a.createElement(o.Tb,null,r.a.createElement(o.X,null,r.a.createElement(o.ab,{title:"Settings"}),r.a.createElement(o.Z,null,r.a.createElement(o.rb,null,r.a.createElement(m,{title:"General",description:"View and manage settings for your website title, domains, and pages.",href:"/website/settings/general?id=".concat(n.id)}),a&&r.a.createElement(m,{title:"Store",description:Object(c.d)(c.a.cf78830b58e6675e45ed3d5b1177261e)?"View and manage shipping, store policies, and other settings for your store.":"View and manage settings for your store.",href:"/stores/settings?id=".concat(n.id)}),s&&r.a.createElement(m,{title:"Calendar Settings",description:"Manage settings related to appointment calendars",href:"/appointments/settings?id=".concat(n.id)})))))):r.a.createElement(d.default,{data:t})}}}]);
//# sourceMappingURL=route-website-settings.9c1f7b2c9accc7ab2caa.js.map